<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Canvas Test</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: #f0f0f0;
            font-family: Arial, sans-serif;
        }
        #gameCanvas {
            border: 1px solid #ccc;
            background: white;
        }
        #status {
            margin-top: 10px;
            padding: 10px;
            background: #e0e0e0;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <h1>Simple Canvas Test</h1>
    <canvas id="gameCanvas" width="400" height="300"></canvas>
    <div id="status">Testing...</div>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const statusDiv = document.getElementById('status');
        
        let status = '';
        
        // Test basic canvas methods
        status += 'Canvas context: ' + (ctx ? 'OK' : 'FAILED') + '<br>';
        
        // Test moveTo method
        try {
            ctx.moveTo(10, 10);
            status += 'moveTo method: OK<br>';
        } catch (error) {
            status += 'moveTo method: FAILED - ' + error.message + '<br>';
        }
        
        // Test fillRect method
        try {
            ctx.fillRect(10, 10, 100, 50);
            status += 'fillRect method: OK<br>';
        } catch (error) {
            status += 'fillRect method: FAILED - ' + error.message + '<br>';
        }
        
        // Test roundRect method (if available)
        try {
            if (typeof ctx.roundRect === 'function') {
                ctx.beginPath();
                ctx.roundRect(150, 10, 100, 50, 10);
                ctx.fill();
                status += 'native roundRect method: OK<br>';
            } else {
                status += 'native roundRect method: NOT AVAILABLE<br>';
            }
        } catch (error) {
            status += 'native roundRect method: FAILED - ' + error.message + '<br>';
        }
        
        // Test manual round rect drawing
        try {
            ctx.beginPath();
            ctx.moveTo(10, 80);
            ctx.lineTo(100, 80);
            ctx.arc(100, 90, 10, -Math.PI/2, 0);
            ctx.lineTo(110, 120);
            ctx.arc(100, 120, 10, 0, Math.PI/2);
            ctx.lineTo(10, 130);
            ctx.arc(10, 120, 10, Math.PI/2, Math.PI);
            ctx.lineTo(0, 90);
            ctx.arc(10, 90, 10, Math.PI, -Math.PI/2);
            ctx.closePath();
            ctx.fill();
            status += 'manual round rect: OK<br>';
        } catch (error) {
            status += 'manual round rect: FAILED - ' + error.message + '<br>';
        }
        
        statusDiv.innerHTML = status;
    </script>
</body>
</html>